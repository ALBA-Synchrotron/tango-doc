
\chapter{The property file syntax}

\section{Property file usage}

A property file is a file where you store all the property(ies) related
to device(s) belonging to a specific device server process. In this
file, one can find:
\begin{itemize}
\item Which device(s) has to be created for each Tango class embedded in
the device server process
\item Device(s) properties
\item Device(s) attribute properties
\end{itemize}
This type of file is not required by a Tango control system. These
informations are stored in the Tango database and having them also
in a file could generate some data duplication issues. Nevertheless,
in some cases, it could very very helpful to generate this type of
file. These cases are:
\begin{enumerate}
\item If you want to run a device server process on a host which does not
have access to the Tango control system database. In such a case,
the user can generate the file from the database content and run the
device server process using this file as database (-file option of
device server process)
\item In case of massive property changes where no tool will be more adapted
than your favorite text editor. In such a case, the user can generate
a file from the database content, change/add/modify file contents
using his favorite tool and then reload file content into the database.
\end{enumerate}
Jive\cite{Jive doc} is the tool provided to generate and load a property
file. To generate a device server process properties file, select
your device server process in the \textquotedbl{}Server\textquotedbl{}
tab, right click and select \textquotedbl{}Save Server Data\textquotedbl{}.
A file selection window pops up allowing you to choose your file name
and path. To reload a file in the Tango database, click on \textquotedbl{}File\textquotedbl{}
then \textquotedbl{}Load Property File\textquotedbl{}. 

\section{Property file syntax}

\input{appendix/line.tex}
\begin{lyxcode}
\textbf{1~}\#-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-

2~\#~SERVER~TimeoutTest/manu,~TimeoutTest~device~declaration

3~\#-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-

4~

5~TimeoutTest/manu/DEVICE/TimeoutTest:~\textquotedbl{}et/to/01\textquotedbl{},\textbackslash{}~

6~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\textquotedbl{}et/to/02\textquotedbl{},\textbackslash{}~

7~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\textquotedbl{}et/to/03\textquotedbl{}

8~

9~

10~\#~-{}-{}-~et/to/01~properties

11~

12~et/to/01->StringProp:~Property

13~et/to/01->ArrayProp:~1,\textbackslash{}~

14~~~~~~~~~~~~~~~~~~~~~~2,\textbackslash{}~

15~~~~~~~~~~~~~~~~~~~~~~3

16~et/to/01->attr\_min\_poll\_period:~TheAttr,\textbackslash{}~

17~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~1000

18~et/to/01->AnotherStringProp:~\textquotedbl{}A~long~string\textquotedbl{}

19~et/to/01->ArrayStringProp:~\textquotedbl{}the~first~prop\textquotedbl{},\textbackslash{}~

20~~~~~~~~~~~~~~~~~~~~~~~~~~~~\textquotedbl{}the~second~prop\textquotedbl{}

21~

22~\#~-{}-{}-~et/to/01~attribute~properties

23~

24~et/to/01/TheAttr->display\_unit:~1.0

25~et/to/01/TheAttr->event\_period:~1000

26~et/to/01/TheAttr->format:~\%4d

27~et/to/01/TheAttr->min\_alarm:~-2.0

28~et/to/01/TheAttr->min\_value:~-5.0

29~et/to/01/TheAttr->standard\_unit:~1.0

30~et/to/01/TheAttr->\_\_value:~111

31~et/to/01/BooAttr->event\_period:~1000doc\_url

32~et/to/01/TestAttr->display\_unit:~1.0

33~et/to/01/TestAttr->event\_period:~1000

34~et/to/01/TestAttr->format:~\%4d

35~et/to/01/TestAttr->standard\_unit:~1.0

36~et/to/01/DbAttr->abs\_change:~1.1

37~et/to/01/DbAttr->event\_period:~1000

38

39~CLASS/TimeoutTest->InheritedFrom:~~~Device\_4Impl

40~CLASS/TimeoutTest->doc\_url:~~~\textquotedbl{}http://www.esrf.fr/some/path\textquotedbl{}
\end{lyxcode}
\input{appendix/line.tex}

Line 1 - 3: Comments. Comment starts with the '\#' character

Line 4: Blank line

Line 5 - 7: Devices definition. \textquotedbl{}DEVICE\textquotedbl{}
is the keyword to declare a device(s) definition sequence. The general
syntax is:\begin{center}<DS name>/<inst name>/DEVICE/<Class name>:
dev1,dev2,dev3\end{center}Device(s) name can follow on next line
if the last line character is '\textbackslash{}' (see line 5,6). The
'\textquotedbl{}' characters around device name are generated by the
Jive tool and are not mandatory.

Line 12: Device property definition. The general device property syntax
is \begin{center}<device name>\textbf{->}<property name>: <property
value>\end{center}In case of array, the array element delimiter is
the character ','. Array definition can be splitted on several lines
if the last line character is '\textbackslash{}'. Allowed characters
after the ':' delimiter are space, tabulation or nothing.

Line 13 - 15 and 16 - 17: Device property (array)

Line 18: A device string property with special characters (spaces).
The '\textquotedbl{}' character is used to delimit the string

Line 24 - 37: Device attribute property definition. The general device
attribute property syntax is \begin{center}<device name>/<attribute
name>\textbf{->}<property name>: <property value>\end{center}Allowed
characters after the ':' delimiter are space, tabulation or nothing.

Line 39 - 40: Class property definition. The general class property
syntax is \begin{center}CLASS/<class name>\textbf{->}<property name>:
<property value>\end{center}\textquotedbl{}CLASS\textquotedbl{} is
the keyword to declare a class property definition. Allowed characters
after the ':' delimiter are space, tabulation or nothing. On line
40, the '\textquotedbl{}' characters around the property value are
mandatory due to the '/' character contains in the property value.
